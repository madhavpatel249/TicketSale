{"ast":null,"code":"import React,{useState,useContext}from'react';import{useNavigate,Link}from'react-router-dom';import apiClient from'../../api/apiService';import{AuthContext}from'../../context/AuthContext';import{User,Lock,AlertCircle}from'lucide-react';import{motion,AnimatePresence}from'framer-motion';import Navbar from'../common/Navbar';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const{login}=useContext(AuthContext);const handleLogin=async e=>{e.preventDefault();try{const response=await apiClient.post('/api/auth/login',{username,password});login(response.data.user,response.data.token);navigate('/');}catch(err){var _err$response,_err$response$data;console.error('Error logging in:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Login failed');}};const handleSignupClick=()=>{navigate('/signup');};const containerVariants={hidden:{opacity:1},visible:{opacity:1}};const itemVariants={hidden:{opacity:1},visible:{opacity:1}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-lightGray pt-24 pb-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-xl shadow-sm w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-center text-primary mb-8\",children:\"Welcome Back\"}),/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:error&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:0.2},className:\"flex items-center gap-2 text-warning bg-warning/10 p-3 rounded-lg mb-6\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:18}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:error})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"username\",className:\"flex items-center gap-2 text-sm font-medium text-primary\",children:[/*#__PURE__*/_jsx(User,{size:16}),\"Username\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",value:username,onChange:e=>setUsername(e.target.value),required:true,className:\"w-full px-4 py-2.5 border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all duration-200\",placeholder:\"Enter your username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",className:\"flex items-center gap-2 text-sm font-medium text-primary\",children:[/*#__PURE__*/_jsx(Lock,{size:16}),\"Password\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true,className:\"w-full px-4 py-2.5 border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all duration-200\",placeholder:\"Enter your password\"})]}),/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:0.98},type:\"submit\",className:\"w-full py-3 bg-primary text-white rounded-lg hover:bg-primary/90 active:bg-primary/80 transition-all duration-200 font-medium shadow-sm hover:shadow-md\",children:\"Log In\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-sm text-darkGray mt-6\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:handleSignupClick,className:\"text-secondary hover:text-secondary/80 font-medium transition-colors duration-200\",children:\"Sign Up\"})]})]})})]});}export default Login;","map":{"version":3,"names":["React","useState","useContext","useNavigate","Link","apiClient","AuthContext","User","Lock","AlertCircle","motion","AnimatePresence","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","username","setUsername","password","setPassword","error","setError","navigate","login","handleLogin","e","preventDefault","response","post","data","user","token","err","_err$response","_err$response$data","console","message","handleSignupClick","containerVariants","hidden","opacity","visible","itemVariants","children","className","mode","div","initial","y","animate","exit","transition","duration","size","onSubmit","htmlFor","type","id","value","onChange","target","required","placeholder","button","whileHover","scale","whileTap","onClick"],"sources":["/Users/madhavpatel/Desktop/Evently/TicketSale/frontend/src/components/auth/Login.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport apiClient from '../../api/apiService';\nimport { AuthContext } from '../../context/AuthContext';\nimport { User, Lock, AlertCircle } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Navbar from '../common/Navbar';\n\nfunction Login() {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const { login } = useContext(AuthContext);\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await apiClient.post('/api/auth/login', {\n        username,\n        password,\n      });\n      login(response.data.user, response.data.token);\n      navigate('/');\n    } catch (err) {\n      console.error('Error logging in:', err);\n      setError(err.response?.data?.message || 'Login failed');\n    }\n  };\n\n  const handleSignupClick = () => {\n    navigate('/signup');\n  };\n\n  const containerVariants = {\n    hidden: { opacity: 1 },\n    visible: {\n      opacity: 1\n    }\n  };\n\n  const itemVariants = {\n    hidden: { opacity: 1 },\n    visible: {\n      opacity: 1\n    }\n  };\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"flex items-center justify-center min-h-screen bg-lightGray pt-24 pb-12\">\n        <div className=\"bg-white p-8 rounded-xl shadow-sm w-full max-w-md\">\n          <h2 className=\"text-2xl font-bold text-center text-primary mb-8\">\n            Welcome Back\n          </h2>\n          \n          <AnimatePresence mode=\"wait\">\n            {error && (\n              <motion.div \n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n                transition={{ duration: 0.2 }}\n                className=\"flex items-center gap-2 text-warning bg-warning/10 p-3 rounded-lg mb-6\"\n              >\n                <AlertCircle size={18} />\n                <p className=\"text-sm\">{error}</p>\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          <form onSubmit={handleLogin} className=\"space-y-6\">\n            <div className=\"space-y-2\">\n              <label htmlFor=\"username\" className=\"flex items-center gap-2 text-sm font-medium text-primary\">\n                <User size={16} />\n                Username\n              </label>\n              <input\n                type=\"text\"\n                id=\"username\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                required\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all duration-200\"\n                placeholder=\"Enter your username\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <label htmlFor=\"password\" className=\"flex items-center gap-2 text-sm font-medium text-primary\">\n                <Lock size={16} />\n                Password\n              </label>\n              <input\n                type=\"password\"\n                id=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all duration-200\"\n                placeholder=\"Enter your password\"\n              />\n            </div>\n\n            <motion.button\n              whileHover={{ scale: 1.02 }}\n              whileTap={{ scale: 0.98 }}\n              type=\"submit\"\n              className=\"w-full py-3 bg-primary text-white rounded-lg hover:bg-primary/90 active:bg-primary/80 transition-all duration-200 font-medium shadow-sm hover:shadow-md\"\n            >\n              Log In\n            </motion.button>\n          </form>\n\n          <p className=\"text-center text-sm text-darkGray mt-6\">\n            Don't have an account?{' '}\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={handleSignupClick}\n              className=\"text-secondary hover:text-secondary/80 font-medium transition-colors duration-200\"\n            >\n              Sign Up\n            </motion.button>\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Login;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACnD,OAASC,WAAW,CAAEC,IAAI,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,SAAS,KAAM,sBAAsB,CAC5C,OAASC,WAAW,KAAQ,2BAA2B,CACvD,OAASC,IAAI,CAAEC,IAAI,CAAEC,WAAW,KAAQ,cAAc,CACtD,OAASC,MAAM,CAAEC,eAAe,KAAQ,eAAe,CACvD,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtC,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACf,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACqB,QAAQ,CAAEC,WAAW,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACuB,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAyB,QAAQ,CAAGvB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEwB,KAAM,CAAC,CAAGzB,UAAU,CAACI,WAAW,CAAC,CAEzC,KAAM,CAAAsB,WAAW,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA1B,SAAS,CAAC2B,IAAI,CAAC,iBAAiB,CAAE,CACvDZ,QAAQ,CACRE,QACF,CAAC,CAAC,CACFK,KAAK,CAACI,QAAQ,CAACE,IAAI,CAACC,IAAI,CAAEH,QAAQ,CAACE,IAAI,CAACE,KAAK,CAAC,CAC9CT,QAAQ,CAAC,GAAG,CAAC,CACf,CAAE,MAAOU,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZC,OAAO,CAACf,KAAK,CAAC,mBAAmB,CAAEY,GAAG,CAAC,CACvCX,QAAQ,CAAC,EAAAY,aAAA,CAAAD,GAAG,CAACL,QAAQ,UAAAM,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcJ,IAAI,UAAAK,kBAAA,iBAAlBA,kBAAA,CAAoBE,OAAO,GAAI,cAAc,CAAC,CACzD,CACF,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9Bf,QAAQ,CAAC,SAAS,CAAC,CACrB,CAAC,CAED,KAAM,CAAAgB,iBAAiB,CAAG,CACxBC,MAAM,CAAE,CAAEC,OAAO,CAAE,CAAE,CAAC,CACtBC,OAAO,CAAE,CACPD,OAAO,CAAE,CACX,CACF,CAAC,CAED,KAAM,CAAAE,YAAY,CAAG,CACnBH,MAAM,CAAE,CAAEC,OAAO,CAAE,CAAE,CAAC,CACtBC,OAAO,CAAE,CACPD,OAAO,CAAE,CACX,CACF,CAAC,CAED,mBACE5B,KAAA,CAAAE,SAAA,EAAA6B,QAAA,eACEjC,IAAA,CAACF,MAAM,GAAE,CAAC,cACVE,IAAA,QAAKkC,SAAS,CAAC,wEAAwE,CAAAD,QAAA,cACrF/B,KAAA,QAAKgC,SAAS,CAAC,mDAAmD,CAAAD,QAAA,eAChEjC,IAAA,OAAIkC,SAAS,CAAC,kDAAkD,CAAAD,QAAA,CAAC,cAEjE,CAAI,CAAC,cAELjC,IAAA,CAACH,eAAe,EAACsC,IAAI,CAAC,MAAM,CAAAF,QAAA,CACzBvB,KAAK,eACJR,KAAA,CAACN,MAAM,CAACwC,GAAG,EACTC,OAAO,CAAE,CAAEP,OAAO,CAAE,CAAC,CAAEQ,CAAC,CAAE,CAAC,EAAG,CAAE,CAChCC,OAAO,CAAE,CAAET,OAAO,CAAE,CAAC,CAAEQ,CAAC,CAAE,CAAE,CAAE,CAC9BE,IAAI,CAAE,CAAEV,OAAO,CAAE,CAAC,CAAEQ,CAAC,CAAE,CAAC,EAAG,CAAE,CAC7BG,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAC9BR,SAAS,CAAC,wEAAwE,CAAAD,QAAA,eAElFjC,IAAA,CAACL,WAAW,EAACgD,IAAI,CAAE,EAAG,CAAE,CAAC,cACzB3C,IAAA,MAAGkC,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAEvB,KAAK,CAAI,CAAC,EACxB,CACb,CACc,CAAC,cAElBR,KAAA,SAAM0C,QAAQ,CAAE9B,WAAY,CAACoB,SAAS,CAAC,WAAW,CAAAD,QAAA,eAChD/B,KAAA,QAAKgC,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB/B,KAAA,UAAO2C,OAAO,CAAC,UAAU,CAACX,SAAS,CAAC,0DAA0D,CAAAD,QAAA,eAC5FjC,IAAA,CAACP,IAAI,EAACkD,IAAI,CAAE,EAAG,CAAE,CAAC,WAEpB,EAAO,CAAC,cACR3C,IAAA,UACE8C,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,UAAU,CACbC,KAAK,CAAE1C,QAAS,CAChB2C,QAAQ,CAAGlC,CAAC,EAAKR,WAAW,CAACQ,CAAC,CAACmC,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,MACRjB,SAAS,CAAC,uKAAuK,CACjLkB,WAAW,CAAC,qBAAqB,CAClC,CAAC,EACC,CAAC,cAENlD,KAAA,QAAKgC,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB/B,KAAA,UAAO2C,OAAO,CAAC,UAAU,CAACX,SAAS,CAAC,0DAA0D,CAAAD,QAAA,eAC5FjC,IAAA,CAACN,IAAI,EAACiD,IAAI,CAAE,EAAG,CAAE,CAAC,WAEpB,EAAO,CAAC,cACR3C,IAAA,UACE8C,IAAI,CAAC,UAAU,CACfC,EAAE,CAAC,UAAU,CACbC,KAAK,CAAExC,QAAS,CAChByC,QAAQ,CAAGlC,CAAC,EAAKN,WAAW,CAACM,CAAC,CAACmC,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,MACRjB,SAAS,CAAC,uKAAuK,CACjLkB,WAAW,CAAC,qBAAqB,CAClC,CAAC,EACC,CAAC,cAENpD,IAAA,CAACJ,MAAM,CAACyD,MAAM,EACZC,UAAU,CAAE,CAAEC,KAAK,CAAE,IAAK,CAAE,CAC5BC,QAAQ,CAAE,CAAED,KAAK,CAAE,IAAK,CAAE,CAC1BT,IAAI,CAAC,QAAQ,CACbZ,SAAS,CAAC,yJAAyJ,CAAAD,QAAA,CACpK,QAED,CAAe,CAAC,EACZ,CAAC,cAEP/B,KAAA,MAAGgC,SAAS,CAAC,wCAAwC,CAAAD,QAAA,EAAC,wBAC9B,CAAC,GAAG,cAC1BjC,IAAA,CAACJ,MAAM,CAACyD,MAAM,EACZC,UAAU,CAAE,CAAEC,KAAK,CAAE,IAAK,CAAE,CAC5BC,QAAQ,CAAE,CAAED,KAAK,CAAE,IAAK,CAAE,CAC1BE,OAAO,CAAE9B,iBAAkB,CAC3BO,SAAS,CAAC,mFAAmF,CAAAD,QAAA,CAC9F,SAED,CAAe,CAAC,EACf,CAAC,EACD,CAAC,CACH,CAAC,EACN,CAAC,CAEP,CAEA,cAAe,CAAA5B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}